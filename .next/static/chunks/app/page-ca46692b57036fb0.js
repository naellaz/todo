(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7155:(e,t,a)=>{Promise.resolve().then(a.bind(a,7322))},7322:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(5155),o=a(2115);function s(){let[e,t]=(0,o.useState)([]),[a,s]=(0,o.useState)(""),[i,c]=(0,o.useState)(1),[d,l]=(0,o.useState)(0);async function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a=await fetch("/api/todos?page=".concat(e)),n=await a.json();t(n.todos),l(n.total),c(n.page)}async function r(e){e.preventDefault(),await fetch("/api/todos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:a})}),s(""),h(1)}async function u(e,t){await fetch("/api/todos",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,done:!t})}),h()}async function p(e){await fetch("/api/todos",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})}),h()}(0,o.useEffect)(()=>{h(1)},[]);let f=Math.ceil(d/5);return(0,n.jsxs)("main",{className:"container",children:[(0,n.jsx)("h1",{children:"\uD83D\uDCCB Todo CRUD"}),(0,n.jsxs)("form",{onSubmit:r,className:"todo-form",children:[(0,n.jsx)("input",{type:"text",value:a,onChange:e=>s(e.target.value),placeholder:"Tambah todo...",required:!0}),(0,n.jsx)("button",{type:"submit",children:"Tambah"})]}),(0,n.jsx)("ul",{className:"todo-list",children:e.map(e=>(0,n.jsxs)("li",{children:[(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:e.done,onChange:()=>u(e.id,e.done)}),(0,n.jsx)("span",{className:e.done?"done":"",children:e.title})]}),(0,n.jsx)("button",{onClick:()=>p(e.id),children:"âŒ"})]},e.id))}),(0,n.jsx)("div",{className:"pagination",children:Array.from({length:f},(e,t)=>t+1).map(e=>(0,n.jsx)("button",{onClick:()=>h(e),className:e===i?"active":"",children:e},e))})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=7155)),_N_E=e.O()}]);